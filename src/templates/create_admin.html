<!-- login.html -->
<form id="loginForm">
    <!-- Nama input -->
    <div class="form-outline mb-4">
        <input type="email" id="namaLengkap" class="form-control" />
        <label class="form-label" for="namaLengkap">Nama Lengkap</label>
    </div>

    <!-- Email input -->
    <div class="form-outline mb-4">
        <input type="email" id="username" class="form-control" />
        <label class="form-label" for="emailInput">Username</label>
    </div>
    <!-- Email input -->
    <div class="form-outline mb-4">
        <input type="email" id="emailInput" class="form-control" />
        <label class="form-label" for="emailInput">Email address</label>
    </div>

    <!-- Password input -->
    <div class="form-outline mb-4">
        <input type="password" id="passwordInput" class="form-control" />
        <label class="form-label" for="passwordInput">Password</label>
    </div>

    <div class="form-outline mb-4">
        <input type="password" id="passwordConfirm" class="form-control" />
        <label class="form-label" for="passwordInput">Password Confirm</label>
    </div>

    <button type="button" id="RegisterAdmin" class="btn btn-primary btn-block mb-4">Register Admin</button>
</form>

<script>
    document.getElementById('RegisterAdmin').addEventListener('click', function () {
        var nama = document.getElementById('namaLengkap').value;
        var username = document.getElementById('username').value;
        var email = document.getElementById('emailInput').value;
        var password = document.getElementById('passwordInput').value;
        var passwordConfirm = document.getElementById('passwordConfirm').value;

        var data = {
            "nama": nama,
            "username": username,
            "email": email,
            "password": password,
            "passwordConfirm": passwordConfirm
        };

        fetch('http://capstone.keyzex.com:8080/api/v1/admin/register', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json'
                },
                body: JSON.stringify(data)
            })
            .then(function (response) {
                if (!response.ok) {
                    return response.json().then(function (data) {
                        throw new Error(data.message);
                    });
                }
                return response.json();
            })
            .then(function (data) {
                console.log(data);
            })
            .catch(function (error) {
                console.error('Error:', error.message);
            });

    });
</script>