<!-- login.html -->
<form id="loginForm">
    <!-- Email input -->
    <div class="form-outline mb-4">
        <input type="email" id="username" class="form-control" />
        <label class="form-label" for="emailInput">Username</label>
    </div>

    <!-- Password input -->
    <div class="form-outline mb-4">
        <input type="password" id="passwordInput" class="form-control" />
        <label class="form-label" for="passwordInput">Password</label>
    </div>

    <button type="button" id="signInBtn" class="btn btn-primary btn-block mb-4">Sign in</button>
</form>

<script>
    document.getElementById('signInBtn').addEventListener('click', function () {
        var username = document.getElementById('username').value;
        var password = document.getElementById('passwordInput').value;

        var data = {
            "username": username,
            "password": password
        };

        fetch('http://capstone.keyzex.com:8080/api/v1/admin/login', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json'
                },
                body: JSON.stringify(data)
            })
            .then(function (response) {
                if (!response.ok) {
                    return response.json().then(function (data) {
                        throw new Error(data.message);
                    });
                }
                return response.json();
            })
            .then(function (data) {
                document.cookie = 'bEDUCookie=' + data.data.token + '; path=/';
                console.log(data.message);
            })
            .catch(function (error) {
                console.error('Error:', error.message);
            });

    });
</script>